# ============================================
# SonicMirror Backend Configuration
# ============================================
# Copy this file to .env and update the values

# ============================================
# Spotify OAuth2 Configuration (REQUIRED)
# ============================================
# Get these from https://developer.spotify.com/dashboard
SPOTIFY_CLIENT_ID="your-spotify-client-id"
SPOTIFY_CLIENT_SECRET="your-spotify-client-secret"

# OAuth callback URL (must match Spotify Developer Dashboard)
# For local development: http://localhost:3001/auth/callback
# For production: https://your-backend-url.onrender.com/auth/callback
SPOTIFY_REDIRECT_URI="http://localhost:3001/auth/callback"

# ============================================
# Frontend URL Configuration (REQUIRED)
# ============================================
# Where to redirect after successful OAuth
# For local development: http://localhost:3000/dashboard
# For production: https://your-frontend-url.onrender.com/dashboard
FRONTEND_URI="http://localhost:3000/dashboard"

# Allowed CORS origins (comma-separated)
# For local development: http://localhost:3000
# For production: https://your-frontend-url.onrender.com
CORS_ORIGIN="http://localhost:3000"

# ============================================
# Server Configuration
# ============================================
PORT=3001
NODE_ENV=development

# ============================================
# Google Gemini AI Configuration (REQUIRED for AI features)
# ============================================
# Get your API key from https://makersuite.google.com/app/apikey
GEMINI_API_KEY="your-gemini-api-key"

# ============================================
# Rate Limiting Configuration (Optional)
# ============================================
# Maximum requests per minute for AI endpoints
AI_RATE_LIMIT_MAX=15
AI_RATE_LIMIT_WINDOW_MS=60000

# Maximum requests per minute for Spotify endpoints  
SPOTIFY_RATE_LIMIT_MAX=100
SPOTIFY_RATE_LIMIT_WINDOW_MS=60000

# ============================================
# Database Configuration (Optional - for future features)
# ============================================
# MongoDB connection string for session/user data persistence
# MONGODB_URI="mongodb://localhost:27017/sonicmirror"

# ============================================
# Security Configuration (Optional)
# ============================================
# JWT secret for token signing (auto-generated if not provided)
# JWT_SECRET="your-secure-random-string"

# ============================================
# Logging Configuration (Optional)
# ============================================
# Log level: debug, info, warn, error
LOG_LEVEL=info

# Enable request logging
ENABLE_REQUEST_LOGGING=true

# ============================================
# NOTES:
# ============================================
# 1. SPOTIFY_REDIRECT_URI must exactly match what's configured 
#    in your Spotify Developer Dashboard
#
# 2. For production deployment on Render:
#    - Update SPOTIFY_REDIRECT_URI to your Render backend URL
#    - Update FRONTEND_URI to your Render frontend URL
#    - Update CORS_ORIGIN to your Render frontend URL
#    - Set NODE_ENV=production
#
# 3. Gemini API key is required for:
#    - Music taste roasts
#    - Personality analysis
#    - Mood analysis
#    - AI recommendations
#    - Story generation